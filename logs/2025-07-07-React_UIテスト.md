# React UIãƒ†ã‚¹ãƒˆ

- **å­¦ç¿’æ—¥**: 2025/07/07
- **å­¦ç¿’æ™‚é–“**: 60åˆ†
- **åŠ¹æœå®Ÿæ„Ÿ**: 3/5
- **åŠ¹æœã®ç¨®é¡**: ç†è§£ãŒæ·±ã¾ã£ãŸ

## å†…å®¹

# ğŸ§ª React UIãƒ†ã‚¹ãƒˆå®Œå…¨ã‚¬ã‚¤ãƒ‰ï¼šåŸºæœ¬ã‹ã‚‰å®Ÿè·µã¾ã§å¾¹åº•è§£èª¬

## ã¯ã˜ã‚ã«

React ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®å“è³ªã‚’ç¢ºä¿ã™ã‚‹ãŸã‚ã«ã€**UIãƒ†ã‚¹ãƒˆ**ã¯æ¬ ã‹ã›ãªã„è¦ç´ ã§ã™ã€‚ã—ã‹ã—ã€ã€Œä½•ã‚’ãƒ†ã‚¹ãƒˆã™ã¹ãã‹ã€ã€Œã©ã®ã‚ˆã†ã«ãƒ†ã‚¹ãƒˆã‚’æ›¸ã‘ã°è‰¯ã„ã‹ã€ã€Œã©ã‚“ãªãƒ„ãƒ¼ãƒ«ã‚’ä½¿ã†ã¹ãã‹ã€ãªã©ã€å¤šãã®ç–‘å•ã‚’æŠ±ãˆã‚‹é–‹ç™ºè€…ã‚‚å¤šã„ã®ã§ã¯ãªã„ã§ã—ã‚‡ã†ã‹ã€‚

æœ¬è¨˜äº‹ã§ã¯ã€React UIãƒ†ã‚¹ãƒˆã®åŸºæœ¬æ¦‚å¿µã‹ã‚‰å®Ÿè·µçš„ãªæŠ€è¡“ã€ã•ã‚‰ã«ã¯å®Ÿéš›ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ä½¿ãˆã‚‹é«˜åº¦ãªãƒ†ã‚¹ãƒˆæˆ¦ç•¥ã¾ã§ã€åŒ…æ‹¬çš„ã«è§£èª¬ã—ã¾ã™ã€‚å­¦ç¿’ã‚¸ãƒ£ãƒ¼ãƒŠãƒ«ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã®å®Ÿä¾‹ã‚‚è±Šå¯Œã«ç´¹ä»‹ã—ã€ã™ãã«æ´»ç”¨ã§ãã‚‹çŸ¥è­˜ã‚’æä¾›ã—ã¾ã™ã€‚

## ğŸ“š ç›®æ¬¡

1. [React UIãƒ†ã‚¹ãƒˆã®åŸºæœ¬æ¦‚å¿µ](#react-uiãƒ†ã‚¹ãƒˆã®åŸºæœ¬æ¦‚å¿µ)
2. [ãƒ†ã‚¹ãƒˆãƒ„ãƒ¼ãƒ«ã¨ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—](#ãƒ†ã‚¹ãƒˆãƒ„ãƒ¼ãƒ«ã¨ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—)
3. [åŸºæœ¬çš„ãªãƒ†ã‚¹ãƒˆã®æ›¸ãæ–¹](#åŸºæœ¬çš„ãªãƒ†ã‚¹ãƒˆã®æ›¸ãæ–¹)
4. [æ®µéšçš„ãƒ†ã‚¹ãƒˆæˆ¦ç•¥](#æ®µéšçš„ãƒ†ã‚¹ãƒˆæˆ¦ç•¥)
5. [å®Ÿè·µçš„ãªãƒ†ã‚¹ãƒˆãƒ‘ã‚¿ãƒ¼ãƒ³](#å®Ÿè·µçš„ãªãƒ†ã‚¹ãƒˆãƒ‘ã‚¿ãƒ¼ãƒ³)
6. [é«˜åº¦ãªãƒ†ã‚¹ãƒˆæŠ€è¡“](#é«˜åº¦ãªãƒ†ã‚¹ãƒˆæŠ€è¡“)
7. [ã‚ˆãã‚ã‚‹å•é¡Œã¨è§£æ±ºç­–](#ã‚ˆãã‚ã‚‹å•é¡Œã¨è§£æ±ºç­–)
8. [ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹](#ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹)
9. [ã¾ã¨ã‚](#ã¾ã¨ã‚)

---

## React UIãƒ†ã‚¹ãƒˆã®åŸºæœ¬æ¦‚å¿µ

### ğŸ¯ UIãƒ†ã‚¹ãƒˆã¨ã¯ä½•ã‹ï¼Ÿ

**UIãƒ†ã‚¹ãƒˆ**ã¯ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ãŒæœŸå¾…é€šã‚Šã«å‹•ä½œã™ã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ãƒ†ã‚¹ãƒˆã§ã™ã€‚React ã«ãŠã„ã¦ã¯ã€ä»¥ä¸‹ã®è¦ç´ ã‚’ãƒ†ã‚¹ãƒˆã—ã¾ã™ï¼š

- **ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°**: ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒæ­£ã—ãè¡¨ç¤ºã•ã‚Œã‚‹ã‹
- **ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³**: ãƒ¦ãƒ¼ã‚¶ãƒ¼æ“ä½œï¼ˆã‚¯ãƒªãƒƒã‚¯ã€å…¥åŠ›ï¼‰ãŒæ­£ã—ãå‹•ä½œã™ã‚‹ã‹
- **çŠ¶æ…‹ç®¡ç†**: çŠ¶æ…‹ã®å¤‰åŒ–ãŒé©åˆ‡ã«åæ˜ ã•ã‚Œã‚‹ã‹
- **æ¡ä»¶åˆ†å²**: æ¡ä»¶ã«å¿œã˜ã¦é©åˆ‡ãª UI ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã‹

### ğŸ—ï¸ ãƒ†ã‚¹ãƒˆã®ç¨®é¡ã¨ç¯„å›²

```typescript
// ãƒ†ã‚¹ãƒˆã®åˆ†é¡
const testTypes = {
  unit: {
    scope: "å˜ä¸€ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ",
    focus: "å€‹åˆ¥ã®æ©Ÿèƒ½",
    speed: "é«˜é€Ÿ",
    examples: ["Button", "Input", "Card"],
  },
  integration: {
    scope: "è¤‡æ•°ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ",
    focus: "é€£æºå‹•ä½œ",
    speed: "ä¸­é€Ÿ",
    examples: ["Form", "Modal", "DataTable"],
  },
  e2e: {
    scope: "ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å…¨ä½“",
    focus: "ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼",
    speed: "ä½é€Ÿ",
    examples: ["ãƒ­ã‚°ã‚¤ãƒ³", "è³¼å…¥", "æŠ•ç¨¿"],
  },
};
```

### ğŸ¨ ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆã®æ€æƒ³

```typescript
// ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆã®ä¾‹
describe("TodoItem Component", () => {
  test("should display todo text", () => {
    const todo = { id: 1, text: "Learn React Testing", completed: false };
    render(<TodoItem todo={todo} />);
    expect(screen.getByText("Learn React Testing")).toBeInTheDocument();
  });

  test("should call onToggle when checkbox is clicked", () => {
    const mockOnToggle = jest.fn();
    const todo = { id: 1, text: "Learn React Testing", completed: false };

    render(<TodoItem todo={todo} onToggle={mockOnToggle} />);
    fireEvent.click(screen.getByRole("checkbox"));

    expect(mockOnToggle).toHaveBeenCalledWith(1);
  });
});
```

---

## ãƒ†ã‚¹ãƒˆãƒ„ãƒ¼ãƒ«ã¨ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

### ğŸ› ï¸ ä¸»è¦ãªãƒ†ã‚¹ãƒˆãƒ„ãƒ¼ãƒ«

#### **Jest**

- **å½¹å‰²**: ãƒ†ã‚¹ãƒˆãƒ©ãƒ³ãƒŠãƒ¼ã€ã‚¢ã‚µãƒ¼ã‚·ãƒ§ãƒ³ã€ãƒ¢ãƒƒã‚¯
- **ç‰¹å¾´**: React ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®æ¨™æº–çš„ãªãƒ†ã‚¹ãƒˆãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯

#### **React Testing Library**

- **å½¹å‰²**: React ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ãƒ†ã‚¹ãƒˆç”¨ãƒ©ã‚¤ãƒ–ãƒ©ãƒª
- **ç‰¹å¾´**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ä¸­å¿ƒã®ãƒ†ã‚¹ãƒˆã‚¢ãƒ—ãƒ­ãƒ¼ãƒ

#### **@testing-library/jest-dom**

- **å½¹å‰²**: DOM è¦ç´ ç”¨ã®ã‚«ã‚¹ã‚¿ãƒ ãƒãƒƒãƒãƒ£ãƒ¼
- **ç‰¹å¾´**: ã‚ˆã‚Šç›´æ„Ÿçš„ãªã‚¢ã‚µãƒ¼ã‚·ãƒ§ãƒ³

### ğŸ”§ ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

```bash
# å¿…è¦ãªãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
npm install --save-dev @testing-library/react @testing-library/jest-dom @testing-library/user-event
```

```javascript
// jest.config.js
module.exports = {
  testEnvironment: "jsdom",
  setupFilesAfterEnv: ["<rootDir>/src/setupTests.js"],
  moduleNameMapping: {
    "^@/(.*)$": "<rootDir>/src/$1",
  },
  collectCoverageFrom: [
    "src/**/*.{js,jsx,ts,tsx}",
    "!src/**/*.d.ts",
    "!src/index.tsx",
    "!src/reportWebVitals.ts",
  ],
};
```

```javascript
// src/setupTests.js
import "@testing-library/jest-dom";

// ã‚°ãƒ­ãƒ¼ãƒãƒ«ãªãƒ¢ãƒƒã‚¯ã®è¨­å®š
Object.defineProperty(window, "matchMedia", {
  writable: true,
  value: jest.fn().mockImplementation((query) => ({
    matches: false,
    media: query,
    onchange: null,
    addListener: jest.fn(),
    removeListener: jest.fn(),
    addEventListener: jest.fn(),
    removeEventListener: jest.fn(),
    dispatchEvent: jest.fn(),
  })),
});
```

### ğŸ“¦ Next.js ã§ã®è¨­å®š

```javascript
// next.config.js
const nextJest = require("next/jest");

const createJestConfig = nextJest({
  dir: "./",
});

const customJestConfig = {
  setupFilesAfterEnv: ["<rootDir>/jest.setup.js"],
  moduleNameMapping: {
    "^@/components/(.*)$": "<rootDir>/components/$1",
    "^@/pages/(.*)$": "<rootDir>/pages/$1",
  },
  testEnvironment: "jest-environment-jsdom",
};

module.exports = createJestConfig(customJestConfig);
```

---

## åŸºæœ¬çš„ãªãƒ†ã‚¹ãƒˆã®æ›¸ãæ–¹

### ğŸ¯ åŸºæœ¬çš„ãªãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ãƒ†ã‚¹ãƒˆ

```typescript
import { render, screen } from "@testing-library/react";
import "@testing-library/jest-dom";
import { Badge } from "@/components/ui/badge";

describe("Badge Component", () => {
  test("renders with default variant", () => {
    render(<Badge>Default Badge</Badge>);

    const badge = screen.getByText("Default Badge");
    expect(badge).toBeInTheDocument();
    expect(badge).toHaveClass("bg-primary");
  });

  test("renders with custom variant", () => {
    render(<Badge variant="secondary">Secondary Badge</Badge>);

    const badge = screen.getByText("Secondary Badge");
    expect(badge).toHaveClass("bg-secondary");
  });

  test("applies custom className", () => {
    render(<Badge className="custom-class">Custom Badge</Badge>);

    const badge = screen.getByText("Custom Badge");
    expect(badge).toHaveClass("custom-class");
  });
});
```

### ğŸ–±ï¸ ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³ã®ãƒ†ã‚¹ãƒˆ

```typescript
import { render, screen, fireEvent } from "@testing-library/react";
import userEvent from "@testing-library/user-event";
import { TagInput } from "@/components/TagInput";

describe("TagInput Component", () => {
  const mockOnTagsChange = jest.fn();

  beforeEach(() => {
    mockOnTagsChange.mockClear();
  });

  test("adds tag when Enter key is pressed", async () => {
    const user = userEvent.setup();

    render(<TagInput onTagsChange={mockOnTagsChange} />);

    const input = screen.getByRole("textbox");
    await user.type(input, "React");
    await user.keyboard("{Enter}");

    expect(mockOnTagsChange).toHaveBeenCalledWith(["react"]);
    expect(input).toHaveValue("");
  });

  test("removes tag when delete button is clicked", async () => {
    const user = userEvent.setup();

    render(<TagInput initialTags={["react", "testing"]} onTagsChange={mockOnTagsChange} />);

    const deleteButton = screen.getAllByText("Ã—")[0];
    await user.click(deleteButton);

    expect(mockOnTagsChange).toHaveBeenCalledWith(["testing"]);
  });

  test("prevents duplicate tags", async () => {
    const user = userEvent.setup();

    render(<TagInput initialTags={["react"]} onTagsChange={mockOnTagsChange} />);

    const input = screen.getByRole("textbox");
    await user.type(input, "React");
    await user.keyboard("{Enter}");

    expect(mockOnTagsChange).not.toHaveBeenCalled();
  });
});
```

### ğŸ”„ éåŒæœŸå‡¦ç†ã®ãƒ†ã‚¹ãƒˆ

```typescript
import { render, screen, waitFor } from "@testing-library/react";
import { DashboardStats } from "@/components/dashboard/dashboard-stats";

describe("DashboardStats Component", () => {
  test("displays loading state initially", () => {
    render(<DashboardStats />);

    expect(screen.getByText("èª­ã¿è¾¼ã¿ä¸­...")).toBeInTheDocument();
  });

  test("displays stats after loading", async () => {
    const mockStats = {
      totalUnits: 5,
      totalLogs: 25,
      totalLearningTime: 150,
      averageScore: 85.5
    };

    // APIãƒ¢ãƒƒã‚¯
    global.fetch = jest.fn().mockResolvedValue({
      ok: true,
      json: async () => mockStats
    });

    render(<DashboardStats />);

    await waitFor(() => {
      expect(screen.getByText("5")).toBeInTheDocument();
      expect(screen.getByText("25")).toBeInTheDocument();
      expect(screen.getByText("150")).toBeInTheDocument();
      expect(screen.getByText("85.5")).toBeInTheDocument();
    });
  });

  test("handles error state", async () => {
    global.fetch = jest.fn().mockRejectedValue(new Error("API Error"));

    render(<DashboardStats />);

    await waitFor(() => {
      expect(screen.getByText("ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ")).toBeInTheDocument();
    });
  });
});
```

---

## æ®µéšçš„ãƒ†ã‚¹ãƒˆæˆ¦ç•¥

### ğŸ“ˆ ãƒ¬ãƒ™ãƒ«1: åŸºæœ¬ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

```typescript
// Loading Component ã®ãƒ†ã‚¹ãƒˆ
describe("Loading Component", () => {
  test("renders loading spinner", () => {
    render(<Loading />);

    const spinner = document.querySelector("svg");
    expect(spinner).toBeTruthy();
  });

  test("displays custom text", () => {
    render(<Loading text="ãƒ‡ãƒ¼ã‚¿ã‚’èª­ã¿è¾¼ã¿ä¸­..." />);

    expect(screen.getByText("ãƒ‡ãƒ¼ã‚¿ã‚’èª­ã¿è¾¼ã¿ä¸­...")).toBeInTheDocument();
  });

  test("renders with different sizes", () => {
    const { rerender } = render(<Loading size="sm" />);

    const smallSpinner = document.querySelector("svg");
    expect(smallSpinner).toHaveClass("w-4", "h-4");

    rerender(<Loading size="lg" />);

    const largeSpinner = document.querySelector("svg");
    expect(largeSpinner).toHaveClass("w-8", "h-8");
  });
});
```

### ğŸ“ˆ ãƒ¬ãƒ™ãƒ«2: ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

```typescript
// Form Component ã®ãƒ†ã‚¹ãƒˆ
describe("ContactForm Component", () => {
  test("submits form with valid data", async () => {
    const mockOnSubmit = jest.fn();
    const user = userEvent.setup();

    render(<ContactForm onSubmit={mockOnSubmit} />);

    await user.type(screen.getByLabelText("ãŠåå‰"), "å¤ªéƒ");
    await user.type(screen.getByLabelText("ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹"), "taro@example.com");
    await user.type(screen.getByLabelText("ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸"), "ãŠå•ã„åˆã‚ã›å†…å®¹");

    await user.click(screen.getByRole("button", { name: "é€ä¿¡" }));

    expect(mockOnSubmit).toHaveBeenCalledWith({
      name: "å¤ªéƒ",
      email: "taro@example.com",
      message: "ãŠå•ã„åˆã‚ã›å†…å®¹"
    });
  });

  test("displays validation errors", async () => {
    const user = userEvent.setup();

    render(<ContactForm onSubmit={jest.fn()} />);

    await user.click(screen.getByRole("button", { name: "é€ä¿¡" }));

    expect(screen.getByText("ãŠåå‰ã¯å¿…é ˆã§ã™")).toBeInTheDocument();
    expect(screen.getByText("ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã¯å¿…é ˆã§ã™")).toBeInTheDocument();
    expect(screen.getByText("ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¯å¿…é ˆã§ã™")).toBeInTheDocument();
  });
});
```

### ğŸ“ˆ ãƒ¬ãƒ™ãƒ«3: çŠ¶æ…‹ç®¡ç†ã‚’å«ã‚€ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

```typescript
// Dashboard Header ã®ãƒ†ã‚¹ãƒˆ
describe("DashboardHeader Component", () => {
  const mockUseAuthStore = jest.fn();
  const mockUseModalStore = jest.fn();
  const mockUseRouter = jest.fn();

  beforeEach(() => {
    jest.clearAllMocks();

    mockUseRouter.mockReturnValue({
      push: jest.fn()
    });

    mockUseModalStore.mockReturnValue({
      openCreateUnitModal: jest.fn()
    });
  });

  test("displays loading state", () => {
    mockUseAuthStore.mockReturnValue({
      session: null,
      loading: true
    });

    render(<DashboardHeader />);

    expect(document.querySelector("svg")).toBeTruthy();
  });

  test("displays authenticated user content", () => {
    mockUseAuthStore.mockReturnValue({
      session: { user: { id: "user-123" } },
      loading: false
    });

    render(<DashboardHeader />);

    expect(screen.getByText("ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰")).toBeInTheDocument();
    expect(screen.getByText("æ–°è¦ãƒ¦ãƒ‹ãƒƒãƒˆ")).toBeInTheDocument();
    expect(screen.getByText("ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«")).toBeInTheDocument();
  });
});
```

---

## å®Ÿè·µçš„ãªãƒ†ã‚¹ãƒˆãƒ‘ã‚¿ãƒ¼ãƒ³

### ğŸ­ ãƒ¢ãƒƒã‚¯ã¨ã‚¹ã‚¿ãƒ–ã®æ´»ç”¨

```typescript
// APIå‘¼ã³å‡ºã—ã®ãƒ¢ãƒƒã‚¯
describe("UserProfile Component", () => {
  test("fetches and displays user data", async () => {
    const mockUser = {
      id: 1,
      name: "å¤ªéƒ",
      email: "taro@example.com",
      avatar: "https://example.com/avatar.jpg"
    };

    global.fetch = jest.fn().mockResolvedValue({
      ok: true,
      json: async () => mockUser
    });

    render(<UserProfile userId="1" />);

    expect(screen.getByText("èª­ã¿è¾¼ã¿ä¸­...")).toBeInTheDocument();

    await waitFor(() => {
      expect(screen.getByText("å¤ªéƒ")).toBeInTheDocument();
      expect(screen.getByText("taro@example.com")).toBeInTheDocument();
    });

    expect(global.fetch).toHaveBeenCalledWith("/api/users/1");
  });
});
```

### ğŸ”„ ã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯ã®ãƒ†ã‚¹ãƒˆ

```typescript
import { renderHook, act } from "@testing-library/react";
import { useDebouncedValue } from "@/hooks/useDebouncedValue";

describe("useDebouncedValue Hook", () => {
  beforeEach(() => {
    jest.useFakeTimers();
  });

  afterEach(() => {
    jest.runOnlyPendingTimers();
    jest.useRealTimers();
  });

  test("returns initial value immediately", () => {
    const { result } = renderHook(() => useDebouncedValue("åˆæœŸå€¤", 1000));

    expect(result.current).toBe("åˆæœŸå€¤");
  });

  test("delays value updates", () => {
    const { result, rerender } = renderHook(
      ({ value, delay }) => useDebouncedValue(value, delay),
      { initialProps: { value: "åˆæœŸå€¤", delay: 1000 } }
    );

    expect(result.current).toBe("åˆæœŸå€¤");

    rerender({ value: "æ›´æ–°å€¤", delay: 1000 });

    expect(result.current).toBe("åˆæœŸå€¤");

    act(() => {
      jest.advanceTimersByTime(1000);
    });

    expect(result.current).toBe("æ›´æ–°å€¤");
  });
});
```

### ğŸ¨ æ¡ä»¶ä»˜ããƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã®ãƒ†ã‚¹ãƒˆ

```typescript
describe("ConditionalComponent", () => {
  test("renders different content based on user role", () => {
    const adminUser = { role: "admin", name: "ç®¡ç†è€…" };
    const regularUser = { role: "user", name: "ä¸€èˆ¬ãƒ¦ãƒ¼ã‚¶ãƒ¼" };

    const { rerender } = render(<UserDashboard user={adminUser} />);

    expect(screen.getByText("ç®¡ç†ãƒ‘ãƒãƒ«")).toBeInTheDocument();
    expect(screen.getByText("ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†")).toBeInTheDocument();

    rerender(<UserDashboard user={regularUser} />);

    expect(screen.queryByText("ç®¡ç†ãƒ‘ãƒãƒ«")).not.toBeInTheDocument();
    expect(screen.getByText("ãƒã‚¤ãƒšãƒ¼ã‚¸")).toBeInTheDocument();
  });

  test("handles empty state", () => {
    render(<DataList data={[]} />);

    expect(screen.getByText("ãƒ‡ãƒ¼ã‚¿ãŒã‚ã‚Šã¾ã›ã‚“")).toBeInTheDocument();
    expect(screen.getByText("æ–°ã—ã„ãƒ‡ãƒ¼ã‚¿ã‚’è¿½åŠ ã—ã¦ãã ã•ã„")).toBeInTheDocument();
  });
});
```

---

## é«˜åº¦ãªãƒ†ã‚¹ãƒˆæŠ€è¡“

### ğŸ” ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£ã®ãƒ†ã‚¹ãƒˆ

```typescript
import { axe, toHaveNoViolations } from "jest-axe";

expect.extend(toHaveNoViolations);

describe("Accessibility Tests", () => {
  test("should not have any accessibility violations", async () => {
    const { container } = render(<ContactForm />);

    const results = await axe(container);
    expect(results).toHaveNoViolations();
  });

  test("form elements have proper labels", () => {
    render(<ContactForm />);

    expect(screen.getByLabelText("ãŠåå‰")).toBeInTheDocument();
    expect(screen.getByLabelText("ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹")).toBeInTheDocument();
    expect(screen.getByLabelText("ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸")).toBeInTheDocument();
  });

  test("buttons have proper aria attributes", () => {
    render(<SubmitButton loading={true} />);

    const button = screen.getByRole("button");
    expect(button).toHaveAttribute("aria-disabled", "true");
    expect(button).toHaveAttribute("aria-describedby");
  });
});
```

### ğŸ“± ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³ã®ãƒ†ã‚¹ãƒˆ

```typescript
describe("Responsive Design Tests", () => {
  test("displays mobile navigation on small screens", () => {
    Object.defineProperty(window, 'innerWidth', {
      writable: true,
      configurable: true,
      value: 375,
    });

    window.dispatchEvent(new Event('resize'));

    render(<Navigation />);

    expect(screen.getByLabelText("ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’é–‹ã")).toBeInTheDocument();
    expect(screen.queryByRole("navigation")).not.toBeVisible();
  });

  test("displays desktop navigation on large screens", () => {
    Object.defineProperty(window, 'innerWidth', {
      writable: true,
      configurable: true,
      value: 1024,
    });

    window.dispatchEvent(new Event('resize'));

    render(<Navigation />);

    expect(screen.getByRole("navigation")).toBeVisible();
    expect(screen.queryByLabelText("ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’é–‹ã")).not.toBeInTheDocument();
  });
});
```

### ğŸ¯ ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆ

```typescript
describe("Performance Tests", () => {
  test("renders large list efficiently", () => {
    const largeData = Array.from({ length: 1000 }, (_, i) => ({
      id: i,
      name: `Item ${i}`,
      value: Math.random() * 100
    }));

    const start = performance.now();
    render(<VirtualizedList data={largeData} />);
    const end = performance.now();

    expect(end - start).toBeLessThan(100); // 100msä»¥å†…
    expect(screen.getAllByTestId("list-item")).toHaveLength(10); // ä»®æƒ³åŒ–ç¢ºèª
  });

  test("lazy loading works correctly", async () => {
    render(<LazyImageGrid />);

    const images = screen.getAllByRole("img");

    // æœ€åˆã¯æ•°æšã ã‘èª­ã¿è¾¼ã¾ã‚Œã‚‹
    expect(images.filter(img => img.getAttribute("src"))).toHaveLength(6);

    // ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã§è¿½åŠ èª­ã¿è¾¼ã¿
    fireEvent.scroll(window, { target: { scrollY: 1000 } });

    await waitFor(() => {
      const loadedImages = screen.getAllByRole("img").filter(img => img.getAttribute("src"));
      expect(loadedImages.length).toBeGreaterThan(6);
    });
  });
});
```

---

## ã‚ˆãã‚ã‚‹å•é¡Œã¨è§£æ±ºç­–

### âŒ å•é¡Œ1: éåŒæœŸå‡¦ç†ã®ãƒ†ã‚¹ãƒˆãŒä¸å®‰å®š

```typescript
// âŒ é–“é•ã„ï¼šå›ºå®šæ™‚é–“ã§ã®å¾…æ©Ÿ
test("bad async test", async () => {
  render(<AsyncComponent />);

  await new Promise(resolve => setTimeout(resolve, 1000));

  expect(screen.getByText("Loaded")).toBeInTheDocument();
});

// âœ… æ­£ã—ã„ï¼šwaitForã‚’ä½¿ç”¨
test("good async test", async () => {
  render(<AsyncComponent />);

  await waitFor(() => {
    expect(screen.getByText("Loaded")).toBeInTheDocument();
  });
});
```

### âŒ å•é¡Œ2: ãƒ¢ãƒƒã‚¯ã®è¨­å®šãŒä¸é©åˆ‡

```typescript
// âŒ é–“é•ã„ï¼šã‚°ãƒ­ãƒ¼ãƒãƒ«ãƒ¢ãƒƒã‚¯ã®è¨­å®šå¿˜ã‚Œ
describe("API Tests", () => {
  test("fetches data", async () => {
    global.fetch = jest.fn().mockResolvedValue({
      ok: true,
      json: async () => ({ data: "test" })
    });

    render(<DataComponent />);

    await waitFor(() => {
      expect(screen.getByText("test")).toBeInTheDocument();
    });
  });
});

// âœ… æ­£ã—ã„ï¼šé©åˆ‡ãªã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—
describe("API Tests", () => {
  const mockFetch = jest.fn();

  beforeEach(() => {
    global.fetch = mockFetch;
  });

  afterEach(() => {
    mockFetch.mockClear();
  });

  afterAll(() => {
    global.fetch = originalFetch;
  });

  test("fetches data", async () => {
    mockFetch.mockResolvedValue({
      ok: true,
      json: async () => ({ data: "test" })
    });

    render(<DataComponent />);

    await waitFor(() => {
      expect(screen.getByText("test")).toBeInTheDocument();
    });
  });
});
```

### âŒ å•é¡Œ3: ãƒ†ã‚¹ãƒˆãŒç’°å¢ƒã«ä¾å­˜

```typescript
// âŒ é–“é•ã„ï¼šç’°å¢ƒä¾å­˜ã®ãƒ†ã‚¹ãƒˆ
test("bad environment test", () => {
  render(<Component />);

  expect(screen.getByText(new Date().getFullYear().toString())).toBeInTheDocument();
});

// âœ… æ­£ã—ã„ï¼šç’°å¢ƒã‹ã‚‰ç‹¬ç«‹ã—ãŸãƒ†ã‚¹ãƒˆ
test("good environment test", () => {
  const mockDate = new Date("2023-01-01");
  jest.spyOn(global, "Date").mockImplementation(() => mockDate);

  render(<Component />);

  expect(screen.getByText("2023")).toBeInTheDocument();

  global.Date.mockRestore();
});
```

---

## ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹

### ğŸ¯ 1. ãƒ†ã‚¹ãƒˆã®å‘½åè¦å‰‡

```typescript
// âœ… è‰¯ã„å‘½å
describe("UserProfile Component", () => {
  describe("when user is authenticated", () => {
    test("displays user information", () => {
      // ãƒ†ã‚¹ãƒˆå†…å®¹
    });

    test("shows edit button", () => {
      // ãƒ†ã‚¹ãƒˆå†…å®¹
    });
  });

  describe("when user is not authenticated", () => {
    test("displays login prompt", () => {
      // ãƒ†ã‚¹ãƒˆå†…å®¹
    });

    test("redirects to login page", () => {
      // ãƒ†ã‚¹ãƒˆå†…å®¹
    });
  });
});
```

### ğŸ¯ 2. Page Object Model ã®æ´»ç”¨

```typescript
// ãƒ†ã‚¹ãƒˆãƒ˜ãƒ«ãƒ‘ãƒ¼
class ContactFormPage {
  constructor(private component: RenderResult) {}

  async fillName(name: string) {
    const input = this.component.getByLabelText("ãŠåå‰");
    await userEvent.type(input, name);
  }

  async fillEmail(email: string) {
    const input = this.component.getByLabelText("ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹");
    await userEvent.type(input, email);
  }

  async fillMessage(message: string) {
    const input = this.component.getByLabelText("ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸");
    await userEvent.type(input, message);
  }

  async submit() {
    const button = this.component.getByRole("button", { name: "é€ä¿¡" });
    await userEvent.click(button);
  }

  getValidationError(field: string) {
    return this.component.queryByText(new RegExp(field, "i"));
  }
}

// ä½¿ç”¨ä¾‹
test("submits form with valid data", async () => {
  const mockOnSubmit = jest.fn();
  const component = render(<ContactForm onSubmit={mockOnSubmit} />);
  const page = new ContactFormPage(component);

  await page.fillName("å¤ªéƒ");
  await page.fillEmail("taro@example.com");
  await page.fillMessage("ãŠå•ã„åˆã‚ã›å†…å®¹");
  await page.submit();

  expect(mockOnSubmit).toHaveBeenCalledWith({
    name: "å¤ªéƒ",
    email: "taro@example.com",
    message: "ãŠå•ã„åˆã‚ã›å†…å®¹"
  });
});
```

### ğŸ¯ 3. ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ã®ç®¡ç†

```typescript
// testUtils.ts
export const createMockUser = (overrides = {}) => ({
  id: 1,
  name: "ãƒ†ã‚¹ãƒˆãƒ¦ãƒ¼ã‚¶ãƒ¼",
  email: "test@example.com",
  role: "user",
  createdAt: new Date("2023-01-01"),
  ...overrides
});

export const createMockApiResponse = (data, status = 200) => ({
  ok: status >= 200 && status < 300,
  status,
  json: async () => data,
  headers: new Headers(),
  redirected: false,
  statusText: "OK",
  type: "default",
  url: ""
});

// ä½¿ç”¨ä¾‹
test("displays user profile", async () => {
  const mockUser = createMockUser({ name: "å¤ªéƒ", role: "admin" });

  global.fetch = jest.fn().mockResolvedValue(
    createMockApiResponse(mockUser)
  );

  render(<UserProfile userId="1" />);

  await waitFor(() => {
    expect(screen.getByText("å¤ªéƒ")).toBeInTheDocument();
    expect(screen.getByText("ç®¡ç†è€…")).toBeInTheDocument();
  });
});
```

### ğŸ¯ 4. ã‚«ãƒãƒ¬ãƒƒã‚¸ã®æ´»ç”¨

```json
{
  "scripts": {
    "test": "jest",
    "test:watch": "jest --watch",
    "test:coverage": "jest --coverage",
    "test:ci": "jest --coverage --watchAll=false"
  },
  "jest": {
    "collectCoverageFrom": [
      "src/components/**/*.{ts,tsx}",
      "src/hooks/**/*.{ts,tsx}",
      "src/utils/**/*.{ts,tsx}",
      "!src/**/*.d.ts",
      "!src/**/*.stories.{ts,tsx}"
    ],
    "coverageThreshold": {
      "global": {
        "branches": 80,
        "functions": 80,
        "lines": 80,
        "statements": 80
      }
    }
  }
}
```

---

## ã¾ã¨ã‚

### ğŸ¯ ãƒ†ã‚¹ãƒˆæˆ¦ç•¥ã®è¦ç‚¹

1. **æ®µéšçš„ã‚¢ãƒ—ãƒ­ãƒ¼ãƒ**: åŸºæœ¬â†’å¿œç”¨â†’é«˜åº¦ãªé †ã§ãƒ†ã‚¹ãƒˆã‚’å……å®Ÿ
2. **ãƒ¦ãƒ¼ã‚¶ãƒ¼ä¸­å¿ƒ**: å®Ÿéš›ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼æ“ä½œã‚’æ¨¡å€£ã—ãŸãƒ†ã‚¹ãƒˆ
3. **ä¿å®ˆæ€§é‡è¦–**: å¤‰æ›´ã«å¼·ãã€ç†è§£ã—ã‚„ã™ã„ãƒ†ã‚¹ãƒˆ
4. **è‡ªå‹•åŒ–**: CI/CDãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã¨ã®çµ±åˆ

### ğŸ”‘ é‡è¦ãªãƒã‚¤ãƒ³ãƒˆ

| è¦ç´                    | é‡è¦åº¦ | èª¬æ˜                          |
| ---------------------- | ------ | ----------------------------- |
| **åŸºæœ¬æ©Ÿèƒ½**           | â˜…â˜…â˜…    | ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã€propsã€ã‚¤ãƒ™ãƒ³ãƒˆ |
| **ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°** | â˜…â˜…â˜…    | ç•°å¸¸ç³»ã®ãƒ†ã‚¹ãƒˆ                |
| **ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£**   | â˜…â˜…â˜†    | a11yè¦ä»¶ã®ç¢ºèª                |
| **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹**     | â˜…â˜†â˜†    | å¤§é‡ãƒ‡ãƒ¼ã‚¿ã€ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–      |

### ğŸš€ æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—

1. **å®Ÿéš›ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§æ®µéšçš„ã«å°å…¥**
2. **ãƒãƒ¼ãƒ ã§ã®ãƒ†ã‚¹ãƒˆæ–‡åŒ–ã®é†¸æˆ**
3. **CI/CDãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã§ã®è‡ªå‹•ãƒ†ã‚¹ãƒˆ**
4. **E2Eãƒ†ã‚¹ãƒˆã¨ã®çµ„ã¿åˆã‚ã›**

React UIãƒ†ã‚¹ãƒˆã‚’ãƒã‚¹ã‚¿ãƒ¼ã™ã‚‹ã“ã¨ã§ã€ã‚ˆã‚Šå®‰å®šã—ãŸé«˜å“è³ªãªã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’é–‹ç™ºã§ãã¾ã™ã€‚ã¾ãšã¯åŸºæœ¬çš„ãªãƒ†ã‚¹ãƒˆã‹ã‚‰å§‹ã‚ã¦ã€å¾ã€…ã«é«˜åº¦ãªãƒ†ã‚¯ãƒ‹ãƒƒã‚¯ã‚’ç¿’å¾—ã—ã¦ã„ãã¾ã—ã‚‡ã†ï¼

---

_ã“ã®è¨˜äº‹ãŒçš†ã•ã‚“ã®Reacté–‹ç™ºã¨ãƒ†ã‚¹ãƒˆæŠ€è¡“ã®å‘ä¸Šã«å½¹ç«‹ã¦ã°å¹¸ã„ã§ã™ã€‚å®Ÿéš›ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã®å®Ÿè·µã‚’é€šã˜ã¦ã€ã•ã‚‰ãªã‚‹ã‚¹ã‚­ãƒ«ã‚¢ãƒƒãƒ—ã‚’ç›®æŒ‡ã—ã¦ãã ã•ã„ï¼_